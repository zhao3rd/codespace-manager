# 🎉 v1.2.0 新功能总结

## ✨ 三大改进

### 1. 🎨 全新表格布局

#### 之前（v1.1.0）
- 卡片式展示
- 按钮在右侧独立列
- 需要展开才能看详细信息

#### 现在（v1.2.0）
- 表格式展示，信息对齐整洁
- 一行显示所有关键信息
- 操作按钮在同一行，易于操作

```
┌────┬──────────────────────┬─────────┬──────────┬───────────┬────────────┐
│ ✅ │ my-codespace 🔄      │ 2 core  │ WestUs2  │ 5m ago    │ 🔄 ⏸️ ❌  │
│    │ 📦 user/repo         │ 4GB RAM │          │           │            │
│    │ 🌿 main | 🌐 Open    │         │          │           │            │
└────┴──────────────────────┴─────────┴──────────┴───────────┴────────────┘
```

**优势**：
- ✅ 信息密度更高
- ✅ 对齐更整洁
- ✅ 操作更直观
- ✅ 支持更多 Codespace 同时显示

---

### 2. 🔄 每行独立刷新按钮

#### 功能说明

每个 Codespace 都有自己的刷新按钮 🔄

#### 使用场景

**场景 1：检查单个状态**
```
问题：只想查看某个 Codespace 是否启动完成
解决：点击该行的 🔄 按钮，只刷新这一个
```

**场景 2：监控保活任务**
```
问题：想确认保活是否正常工作
解决：点击 🔄 快速检查状态，无需刷新整个页面
```

**优势**：
- ✅ 速度更快（只刷新单个）
- ✅ 不影响其他操作
- ✅ 更精准的控制

---

### 3. 🔄 保活（Keepalive）功能

#### 核心功能

**自动监控和维护 Codespace**，防止意外停止。

#### 工作流程

```
点击 ▶️ 启动
    ↓
设置保活时长（默认 4h）
    ↓
Codespace 启动
    ↓
每 60s 检查一次
    ↓
┌─────────────┐
│ 状态正常？   │
└──┬──────┬───┘
  是      否
  ↓       ↓
继续    自动重启
  ↓       ↓
超时？  继续监控
  ↓
结束任务
```

#### 使用示例

**示例 1：长时间编码会话**
```
需求：4 小时的编码任务
操作：
1. 点击 ▶️ 启动
2. 设置保活 4 小时
3. 开始编码
4. 即使意外断开，Codespace 会自动重启
```

**示例 2：运行构建任务**
```
需求：2 小时的构建任务
操作：
1. 启动并设置 2.5 小时保活
2. 关闭浏览器也可以
3. 构建完成后自动停止保活
```

**示例 3：演示准备**
```
需求：随时准备演示
操作：
1. 提前启动，设置 6 小时保活
2. Codespace 始终就绪
3. 演示结束后自动停止
```

#### 界面元素

**保活激活时的显示**：
```
my-codespace 🔄 (3.5h left)
           ↑        ↑
        保活图标  剩余时间
```

**操作按钮**：
- 🔄 刷新：检查状态
- ⏸️ 停止：停止 Codespace（取消保活）
- ❌ 停止保活：只取消保活，不停止 Codespace

**自动刷新提示**：
```
🔄 2 active keepalive task(s). Page auto-refreshes every 60 seconds.
```

#### 设置选项

| 时长 | 适用场景 |
|------|---------|
| 0.5-1h | 短暂离开（吃饭、开会） |
| 2-4h | 正常编码会话 |
| 4-8h | 长任务（构建、测试） |
| 8-12h | 工作日保持 |
| 最长 24h | 特殊需求 |

#### 技术细节

**检查机制**：
- 频率：每 60 秒
- 检查项：状态、运行时间
- 操作：必要时自动重启

**数据存储**：
- 位置：Session State（内存）
- 持久化：❌（刷新页面会丢失）
- 建议：保持浏览器标签打开

**自动刷新**：
- 触发条件：有活跃保活任务
- 刷新间隔：60 秒
- 实现方式：JavaScript setTimeout

---

## 🎯 功能对比

| 功能 | v1.1.0 | v1.2.0 |
|------|--------|--------|
| 布局 | 卡片式 | 表格式 |
| 刷新 | 全局刷新 | 每行独立刷新 |
| 启动 | 简单启动 | 启动 + 保活设置 |
| 监控 | 手动检查 | 自动监控 |
| 重启 | 手动重启 | 自动重启 |
| 对齐 | 较松散 | 精确对齐 |
| 信息密度 | 中等 | 高 |

---

## 📊 界面变化

### 之前（卡片式）

```
┌─────────────────────────────────┐  ┌──────┐
│ ✅ my-codespace                 │  │ ⏸️   │
│                                 │  └──────┘
│ [展开查看详细信息...]            │
└─────────────────────────────────┘
```

### 现在（表格式）

```
┌────┬───────────────┬─────────┬──────────┬──────────┬──────────────┐
│ ✅ │ my-codespace  │ 2c 4GB  │ WestUs2  │ 5m ago   │ 🔄 ⏸️ ❌    │
│    │ user/repo     │         │          │          │              │
│    │ main | Open   │         │          │          │              │
└────┴───────────────┴─────────┴──────────┴──────────┴──────────────┘
```

---

## 🚀 快速开始

### 1. 查看新布局

刷新页面，查看全新的表格布局。

### 2. 尝试刷新按钮

点击任意 Codespace 右侧的 🔄 按钮。

### 3. 使用保活功能

1. 找到一个已停止的 Codespace
2. 点击 ▶️ 启动按钮
3. 设置保活时长（如 1 小时）
4. 观察保活状态和剩余时间

---

## 💡 最佳实践

### 布局使用

✅ **推荐**：
- 利用表格式快速扫描所有 Codespace
- 关注 Status 列快速识别状态
- 使用 Last Used 列管理资源

### 刷新策略

✅ **推荐**：
- 使用单行刷新检查特定 Codespace
- 只在需要时刷新整个页面
- 保活任务会自动刷新，无需手动

### 保活管理

✅ **推荐**：
- 根据实际需要设置合理时长
- 任务完成后及时停止保活
- 保持浏览器标签打开以维护保活

❌ **避免**：
- 设置过长的保活时间
- 同时保活大量 Codespace
- 忘记停止不需要的保活任务

---

## 📚 相关文档

- [完整使用指南](README.md)
- [保活功能详细说明](KEEPALIVE_GUIDE.md)
- [更新日志](CHANGELOG.md)
- [安全说明](SECURITY.md)

---

## 🎉 享受新功能！

v1.2.0 带来了更高效的界面和强大的保活功能，让你的 Codespace 管理体验更上一层楼！

**反馈和建议**：欢迎提交 Issue 💬

