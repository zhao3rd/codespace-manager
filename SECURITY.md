# ğŸ” å®‰å…¨ä¸å­˜å‚¨è¯´æ˜

## ğŸ”‘ ç™»å½•åŠŸèƒ½

### é…ç½®ç™»å½•å‡­è¯

åº”ç”¨éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼Œç”¨æˆ·åå’Œå¯†ç å­˜å‚¨åœ¨ Streamlit Secrets ä¸­ã€‚

#### Streamlit Cloud é…ç½®

1. è¿›å…¥ App Settings â†’ Secrets
2. æ·»åŠ ç™»å½•é…ç½®ï¼š

```toml
[login]
username = "admin"
password = "your_secure_password"
```

#### æœ¬åœ°å¼€å‘é…ç½®

åˆ›å»º `.streamlit/secrets.toml` æ–‡ä»¶ï¼š

```toml
[login]
username = "admin"
password = "your_secure_password"
```

âš ï¸ **æ³¨æ„**ï¼š`.streamlit/secrets.toml` å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚

### é»˜è®¤å‡­è¯

å¦‚æœæœªé…ç½® Streamlit Secretsï¼Œå°†ä½¿ç”¨é»˜è®¤å‡­è¯ï¼š
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin`

âš ï¸ **å¼ºçƒˆå»ºè®®**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹é»˜è®¤å¯†ç ï¼

### ç™»å‡º

ç‚¹å‡»ä¾§è¾¹æ åº•éƒ¨çš„ "ğŸ”“ Logout" æŒ‰é’®å³å¯é€€å‡ºç™»å½•ã€‚

---

## ğŸ’¾ è´¦æˆ·å’Œ Token å­˜å‚¨

### å­˜å‚¨ä½ç½®

åº”ç”¨æ”¯æŒä¸¤ç§å­˜å‚¨æ–¹å¼ï¼Œä¼šè‡ªåŠ¨ä»ä¸¤ä¸ªä½ç½®åŠ è½½è´¦æˆ·ï¼š

#### 1. æœ¬åœ°å­˜å‚¨ï¼ˆæœ¬åœ°è¿è¡Œï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`accounts.json`

**æ ¼å¼**ï¼š
```json
{
  "account1": "ghp_token1",
  "account2": "ghp_token2"
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… æœ¬åœ°æ–‡ä»¶ï¼Œé‡å¯åè‡ªåŠ¨åŠ è½½
- âœ… å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘
- âœ… åœ¨åº”ç”¨å†…æ·»åŠ çš„è´¦æˆ·ä¼šä¿å­˜åˆ°æ­¤æ–‡ä»¶
- âš ï¸ å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ° Git

#### 2. Streamlit Secretsï¼ˆäº‘ç«¯è¿è¡Œï¼‰

**é…ç½®ä½ç½®**ï¼šStreamlit Cloud â†’ App Settings â†’ Secrets

**æ ¼å¼**ï¼š
```toml
[accounts]
account1 = "ghp_token1"
account2 = "ghp_token2"
```

**ç‰¹ç‚¹**ï¼š
- âœ… äº‘ç«¯åŠ å¯†å­˜å‚¨
- âœ… é‡å¯åè‡ªåŠ¨åŠ è½½
- âœ… æ›´å®‰å…¨
- ğŸ”’ æ— æ³•åœ¨åº”ç”¨å†…åˆ é™¤ï¼ˆé”å®šï¼‰

### å­˜å‚¨ä¼˜å…ˆçº§

å½“åŒæ—¶å­˜åœ¨æœ¬åœ°æ–‡ä»¶å’Œ Streamlit Secrets æ—¶ï¼š

```
Streamlit Secrets ä¼˜å…ˆçº§æ›´é«˜
    â†“
æœ¬åœ° accounts.json
    â†“
åº”ç”¨å†…æ‰‹åŠ¨æ·»åŠ 
```

### è‡ªåŠ¨é‡æ–°åŠ è½½

âœ… **é‡å¯åè‡ªåŠ¨åŠ è½½**

- æœ¬åœ°è¿è¡Œï¼šä» `accounts.json` åŠ è½½
- äº‘ç«¯è¿è¡Œï¼šä» Streamlit Secrets åŠ è½½
- ä¸¤è€…å¯ä»¥æ··åˆä½¿ç”¨

### æ·»åŠ è´¦æˆ·çš„ä¸‰ç§æ–¹å¼

#### æ–¹å¼ä¸€ï¼šåº”ç”¨å†…æ·»åŠ 
1. ç™»å½•åº”ç”¨
2. ç‚¹å‡»ä¾§è¾¹æ  "â• Add Account"
3. è¾“å…¥è´¦æˆ·åå’Œ token
4. è‡ªåŠ¨ä¿å­˜åˆ° `accounts.json`

#### æ–¹å¼äºŒï¼šç¼–è¾‘ accounts.json
```json
{
  "personal": "ghp_personal_token",
  "work": "ghp_work_token"
}
```

#### æ–¹å¼ä¸‰ï¼šé…ç½® Streamlit Secrets
```toml
[accounts]
personal = "ghp_personal_token"
work = "ghp_work_token"
```

---

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

### 1. ä¿æŠ¤æ•æ„Ÿæ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­ï¼š
- âœ… `accounts.json` - æœ¬åœ°è´¦æˆ·å­˜å‚¨
- âœ… `keepalive_tasks.json` - ä¿æ´»ä»»åŠ¡æ•°æ® ğŸ†•
- âœ… `.streamlit/secrets.toml` - æœ¬åœ° secrets
- âœ… `.env` - ç¯å¢ƒå˜é‡

**æ°¸è¿œä¸è¦å°†è¿™äº›æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼**

### 2. ä½¿ç”¨å¼ºå¯†ç 

ç™»å½•å¯†ç å»ºè®®ï¼š
- è‡³å°‘ 12 ä¸ªå­—ç¬¦
- åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
- å®šæœŸæ›´æ¢

### 3. Token å®‰å…¨

GitHub Tokenï¼š
- åªæˆäºˆå¿…è¦çš„æƒé™ï¼ˆ`codespace`ï¼‰
- å®šæœŸè½®æ¢ token
- ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç 
- å‘ç°æ³„éœ²ç«‹å³æ’¤é”€

### 4. äº‘ç«¯éƒ¨ç½²

åœ¨ Streamlit Cloud ä¸Šï¼š
- âœ… æ‰€æœ‰ Secrets éƒ½æ˜¯åŠ å¯†å­˜å‚¨
- âœ… åªæœ‰åº”ç”¨å¯ä»¥è®¿é—®
- âœ… ä¸ä¼šåœ¨æ—¥å¿—ä¸­æ˜¾ç¤º
- âœ… æ”¯æŒç¯å¢ƒéš”ç¦»

### 5. è®¿é—®æ§åˆ¶

- åº”ç”¨éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®
- å¯ä»¥ä¸ºä¸åŒç”¨é€”åˆ›å»ºä¸åŒè´¦æˆ·
- å®šæœŸå®¡æŸ¥è®¿é—®æ—¥å¿—

---

## ğŸ”„ æ•°æ®æŒä¹…åŒ–

### åº”ç”¨é‡å¯å

âœ… **ä¼šä¿ç•™**ï¼š
- ç™»å½•å‡­è¯ï¼ˆSecretsï¼‰
- GitHub è´¦æˆ·é…ç½®ï¼ˆaccounts.json / Secretsï¼‰
- GitHub Tokensï¼ˆaccounts.json / Secretsï¼‰
- **ä¿æ´»ä»»åŠ¡ï¼ˆkeepalive_tasks.json / GitHubï¼‰** ğŸ†•
  - æœ¬åœ°ç¯å¢ƒï¼š`keepalive_tasks.json` æ–‡ä»¶
  - Streamlit Cloudï¼šGitHub APIï¼ˆé…ç½®åï¼‰
  - è‡ªåŠ¨æ¢å¤æœªè¿‡æœŸçš„ä¿æ´»ä»»åŠ¡
  - ç»§ç»­ç›‘æ§å’Œç»´æŠ¤

âŒ **ä¸ä¼šä¿ç•™**ï¼š
- ç™»å½•çŠ¶æ€ï¼ˆéœ€è¦é‡æ–°ç™»å½•ï¼‰
- Session ç¼“å­˜ï¼ˆManager å®ä¾‹ã€ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰
- ä¸´æ—¶çš„ Codespace çŠ¶æ€

### ä¿æ´»ä»»åŠ¡æŒä¹…åŒ– ğŸ†•

#### å­˜å‚¨æ–¹å¼

| ç¯å¢ƒ | å­˜å‚¨æ–¹å¼ | æŒä¹…åŒ– |
|------|---------|--------|
| æœ¬åœ°å¼€å‘ | `keepalive_tasks.json` æ–‡ä»¶ | âœ… |
| Streamlit Cloudï¼ˆæœªé…ç½®ï¼‰ | ä¸´æ—¶æ–‡ä»¶ | âŒ é‡å¯åä¸¢å¤± |
| Streamlit Cloudï¼ˆå·²é…ç½® GitHub å­˜å‚¨ï¼‰ | GitHub API | âœ… å®Œå…¨æŒä¹…åŒ– |

#### GitHub å­˜å‚¨é…ç½®

**æ¨èç”¨äº Streamlit Cloud**ï¼š

```toml
[github_storage]
token = "ghp_your_token"
repo = "your-username/codespace-manager"
branch = "main"
```

**å®‰å…¨è¯´æ˜**ï¼š
- âœ… Token å­˜å‚¨åœ¨ Streamlit Secretsï¼ˆåŠ å¯†ï¼‰
- âœ… æ•°æ®å­˜å‚¨åœ¨ä½ çš„ç§æœ‰ä»“åº“
- âœ… è‡ªåŠ¨æäº¤åˆ°ä»“åº“ï¼ˆå¯æŸ¥çœ‹å†å²ï¼‰
- âœ… å®Œå…¨å…è´¹ï¼Œæ— é™åˆ¶
- âœ… é‡å¯åè‡ªåŠ¨æ¢å¤

**è¯¦ç»†é…ç½®**ï¼šå‚è§ [äº‘å­˜å‚¨é…ç½®æŒ‡å—](CLOUD_STORAGE_SETUP.md)

### æ•°æ®æ¢å¤

å¦‚æœæ•°æ®ä¸¢å¤±ï¼š
1. æ£€æŸ¥ `accounts.json` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥ Streamlit Secrets æ˜¯å¦é…ç½®æ­£ç¡®
3. æ£€æŸ¥ GitHub å­˜å‚¨æ˜¯å¦æ­£ç¡®é…ç½®ï¼ˆCloud ç¯å¢ƒï¼‰
4. é‡æ–°æ·»åŠ è´¦æˆ·

---

## â“ å¸¸è§é—®é¢˜

### Q: é‡å¯åéœ€è¦é‡æ–°æ·»åŠ è´¦æˆ·å—ï¼Ÿ
A: **ä¸éœ€è¦**ã€‚è´¦æˆ·ä¼šè‡ªåŠ¨ä» `accounts.json` æˆ– Streamlit Secrets åŠ è½½ã€‚

### Q: è´¦æˆ·æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ
A: ä¸ä¼šã€‚æœ¬åœ°ä½¿ç”¨ `accounts.json` æ–‡ä»¶æŒä¹…åŒ–ï¼Œäº‘ç«¯ä½¿ç”¨ Streamlit Secretsã€‚

### Q: å¦‚ä½•å¤‡ä»½è´¦æˆ·æ•°æ®ï¼Ÿ
A: 
- æœ¬åœ°ï¼šå¤åˆ¶ `accounts.json` æ–‡ä»¶
- äº‘ç«¯ï¼šå¯¼å‡º Streamlit Secrets é…ç½®

### Q: å¯ä»¥ä¸ç™»å½•ç›´æ¥ä½¿ç”¨å—ï¼Ÿ
A: ä¸å¯ä»¥ã€‚ç™»å½•æ˜¯å¿…éœ€çš„ï¼Œè¿™æ˜¯ä¸ºäº†ä¿æŠ¤æ•æ„Ÿçš„ Codespace æ“ä½œã€‚

### Q: å¿˜è®°å¯†ç æ€ä¹ˆåŠï¼Ÿ
A: 
- æœ¬åœ°ï¼šåˆ é™¤æˆ–ä¿®æ”¹ `.streamlit/secrets.toml`ï¼Œä¼šä½¿ç”¨é»˜è®¤å¯†ç  `admin/admin`
- äº‘ç«¯ï¼šåœ¨ Streamlit Cloud è®¾ç½®ä¸­ä¿®æ”¹ Secrets

### Q: Token ä¼šè¢«æ³„éœ²å—ï¼Ÿ
A: 
- Token å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶æˆ–åŠ å¯†çš„ Secrets ä¸­
- ä¸ä¼šåœ¨ç•Œé¢å®Œæ•´æ˜¾ç¤ºï¼ˆåªæ˜¾ç¤ºå‰ 10 ä¸ªå­—ç¬¦ï¼‰
- ä¸ä¼šè¢«æäº¤åˆ° Gitï¼ˆå·²åœ¨ .gitignoreï¼‰

---

## ğŸ“ å®‰å…¨é—®é¢˜æŠ¥å‘Š

å¦‚æœå‘ç°å®‰å…¨é—®é¢˜ï¼Œè¯·é€šè¿‡ Issue æŠ¥å‘Šï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†ã€‚

**è¯·å‹¿åœ¨å…¬å¼€ Issue ä¸­æš´éœ²æ•æ„Ÿä¿¡æ¯ï¼**

